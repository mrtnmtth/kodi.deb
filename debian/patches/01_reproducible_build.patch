Description: Make build reproducible
 .
Author: Balint Reczey <balint@balintreczey.hu>
Forwarded: not-needed

--- a/xbmc/Application.cpp
+++ b/xbmc/Application.cpp
@@ -512,7 +512,7 @@ bool CApplication::Create()
 //  specialVersion = " (version for XXXX)";
 #endif
   CLog::Log(LOGNOTICE, "Using %s %s x%d build%s", buildType.c_str(), g_infoManager.GetAppName().c_str(), g_sysinfo.GetXbmcBitness(), specialVersion.c_str());
-  CLog::Log(LOGNOTICE, "%s compiled " __DATE__ " by %s for %s %s %d-bit %s (%s)", g_infoManager.GetAppName().c_str(), g_sysinfo.GetUsedCompilerNameAndVer().c_str(), g_sysinfo.GetBuildTargetPlatformName().c_str(),
+  CLog::Log(LOGNOTICE, "%s compiled from " DEB_VERSION " by %s for %s %s %d-bit %s (%s)", g_infoManager.GetAppName().c_str(), g_sysinfo.GetUsedCompilerNameAndVer().c_str(), g_sysinfo.GetBuildTargetPlatformName().c_str(),
             g_sysinfo.GetBuildTargetCpuFamily().c_str(), g_sysinfo.GetXbmcBitness(), g_sysinfo.GetBuildTargetPlatformVersionDecoded().c_str(),
             g_sysinfo.GetBuildTargetPlatformVersion().c_str());
 
diff --git a/xbmc/GUIInfoManager.cpp b/xbmc/GUIInfoManager.cpp
index 8cf1202..65ad32c 100644
--- a/xbmc/GUIInfoManager.cpp
+++ b/xbmc/GUIInfoManager.cpp
@@ -4362,7 +4362,7 @@ std::string CGUIInfoManager::GetVersion()
 
 std::string CGUIInfoManager::GetBuild()
 {
-  return StringUtils::Format("%s", __DATE__);
+  return StringUtils::Format("%s", DEB_VERSION);
 }
 
 std::string CGUIInfoManager::GetAppName()
